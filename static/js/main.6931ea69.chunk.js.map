{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","API/pixabay.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","api","fetchImages","inputValue","pageValue","axios","get","Button","type","name","onBtnClick","className","onClick","Searchbar","onSubmit","useState","input","setInput","handleSubmit","e","preventDefault","trim","toast","info","theme","s","SearchForm","SearchFormButton","onChange","target","value","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGallery","children","ImageGalleryItem","imagesList","modalOpen","map","image","largeImageURL","id","src","webformatURL","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","modalClose","modalImage","useEffect","window","addEventListener","handleCloseModal","removeEventListener","key","currentTarget","console","log","createPortal","Overlay","App","showModal","setShowModal","isLoading","setIsLoading","searchInput","setSearchInput","page","setPage","images","setImages","modal","setModal","loadMoreBtn","setLoadMoreBtn","prevState","searchImages","imagesApi","then","totalPages","Math","round","data","totalHits","hits","length","error","scrollTo","top","documentElement","scrollHeight","behavior","catch","message","finally","largeImg","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6931ea69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3iomd\",\"Modal\":\"Modal_Modal__1Ed2V\",\"image\":\"Modal_image__1dxqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1FxKB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__16QNb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2iA8U\"};","import axios from \"axios\";\r\n\r\nfunction fetchImages(inputValue, pageValue) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${inputValue}&page=${pageValue}&key=22395218-1fa4e36600279d8c4f99c77de&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import PropTypes from \"prop-types\";\r\n\r\nfunction Button({ type, name, onBtnClick, className }) {\r\n  return (\r\n    <button className={className} type={type} onClick={onBtnClick}>\r\n      {name}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  onBtnClick: PropTypes.func.isRequired,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Button;\r\n","import { useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport Button from \"../Button/Button\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (input.trim() === \"\") {\r\n      toast.info(\"Write something to find!\", {\r\n        theme: \"dark\",\r\n      });\r\n    }\r\n    onSubmit(input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <Button\r\n          type=\"submit\"\r\n          onBtnClick={handleSubmit}\r\n          className={s.SearchFormButton}\r\n        />\r\n        <input\r\n          onChange={handleChange}\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n      <ToastContainer />\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ children }) {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n}\r\nexport default ImageGallery;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nfunction ImageGalleryItem({ imagesList, modalOpen }) {\r\n  return imagesList.map((image) => {\r\n    return (\r\n      <li\r\n        key={image.id}\r\n        onClick={() => modalOpen(image.largeImageURL)}\r\n        className={s.ImageGalleryItem}\r\n      >\r\n        <img\r\n          id={image.id}\r\n          src={image.webformatURL}\r\n          alt=\"/\"\r\n          className={s.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  imagesList: PropTypes.array.isRequired,\r\n  modalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ modalClose, modalImage }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleCloseModal);\r\n    return () => window.removeEventListener(\"keydown\", handleCloseModal);\r\n  });\r\n\r\n  const handleCloseModal = (e) => {\r\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\r\n      modalClose();\r\n      console.log(e.key);\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleCloseModal}>\r\n      <div className={s.Modal}>\r\n        <img className={s.modalImage} src={modalImage} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  modalImage: PropTypes.string.isRequired,\r\n  modalClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport imagesApi from \"./API/pixabay\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"./components/Modal/Modal\";\r\nimport Button from \"./components/Button/Button\";\r\n\r\nfunction App() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [modal, setModal] = useState(\"\");\r\n  const [loadMoreBtn, setLoadMoreBtn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (setSearchInput((prevState) => prevState) !== searchInput) {\r\n      setPage(1);\r\n    }\r\n  }, [searchInput]);\r\n\r\n  useEffect(() => {\r\n    if (searchInput === \"\") {\r\n      return;\r\n    }\r\n    if (setPage((prevState) => prevState) !== page) {\r\n      searchImages(searchInput, page);\r\n    }\r\n  }, [page, searchInput]);\r\n\r\n  const searchImages = (searchInput, page) => {\r\n    setIsLoading(true);\r\n    imagesApi\r\n      .fetchImages(searchInput, page)\r\n      .then((images) => {\r\n        setLoadMoreBtn(true);\r\n        const totalPages = Math.round(images.data.totalHits / 12);\r\n        if (page === totalPages) {\r\n          setLoadMoreBtn(false);\r\n        }\r\n        if (images.data.hits.length === 0) {\r\n          toast.error(`\"${searchInput}\" is not found`, {\r\n            theme: \"dark\",\r\n          });\r\n          setLoadMoreBtn(false);\r\n        }\r\n        setImages((prevState) => {\r\n          return page === 1\r\n            ? images.data.hits\r\n            : [...prevState, ...images.data.hits];\r\n        });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        const notify = () => toast(error.message);\r\n        notify();\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  function handleFormSubmit(searchInput) {\r\n    if (searchInput.trim === \"\") {\r\n      setImages([]);\r\n    } else {\r\n      setSearchInput(searchInput);\r\n    }\r\n  }\r\n\r\n  const onLoadMoreClick = () => {\r\n    setPage((prevState) => {\r\n      return prevState + 1;\r\n    });\r\n  };\r\n\r\n  const onModalOpen = (largeImg) => {\r\n    setShowModal(true);\r\n    setModal(largeImg);\r\n  };\r\n\r\n  const onModalClose = () => {\r\n    setShowModal(false);\r\n    setModal(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery>\r\n        <ImageGalleryItem modalOpen={onModalOpen} imagesList={images} />\r\n      </ImageGallery>\r\n      {isLoading && (\r\n        <Loader\r\n          className=\"Loader\"\r\n          type=\"Grid\"\r\n          color=\"#00BFFF\"\r\n          height={80}\r\n          width={80}\r\n        />\r\n      )}\r\n      {loadMoreBtn && (\r\n        <Button\r\n          type=\"button\"\r\n          name=\"Load more\"\r\n          onBtnClick={onLoadMoreClick}\r\n          className=\"Button\"\r\n        />\r\n      )}\r\n      {showModal && <Modal modalClose={onModalClose} modalImage={modal} />}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3WbUu\",\"SearchForm\":\"Searchbar_SearchForm__2UPb2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Js4a\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__3TYlU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3TW9A\"};"],"sourceRoot":""}