(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3iomd",Modal:"Modal_Modal__1Ed2V",image:"Modal_image__1dxqy"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1FxKB",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__16QNb"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2iA8U"}},31:function(e,t,a){},32:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(6),o=a.n(r),s=(a(31),a(14)),i=a(4),l=(a(32),a(5)),m=(a(15),a(33),a(24)),u=a.n(m);var b={fetchImages:function(e,t){return u.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22395218-1fa4e36600279d8c4f99c77de&image_type=photo&orientation=horizontal&per_page=12"))}},j=a(25),d=a.n(j),h=a(8),f=a.n(h),O=a(1);var g=function(e){var t=e.type,a=e.name,c=e.onBtnClick,n=e.className;return Object(O.jsx)("button",{className:n,type:t,onClick:c,children:a})};var p=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1],s=function(e){e.preventDefault(),""===r.trim()&&l.b.info("Write something to find!",{theme:"dark"}),t(r),o("")};return Object(O.jsxs)("header",{className:f.a.Searchbar,children:[Object(O.jsxs)("form",{className:f.a.SearchForm,onSubmit:s,children:[Object(O.jsx)(g,{type:"submit",onBtnClick:s,className:f.a.SearchFormButton}),Object(O.jsx)("input",{onChange:function(e){o(e.target.value.toLowerCase())},className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),Object(O.jsx)(l.a,{})]})},_=a(26),I=a.n(_);var S=function(e){var t=e.children;return Object(O.jsx)("ul",{className:I.a.ImageGallery,children:t})},y=a(13),x=a.n(y);var v=function(e){var t=e.imagesList,a=e.modalOpen;return t.map((function(e){return Object(O.jsx)("li",{onClick:function(){return a(e.largeImageURL)},className:x.a.ImageGalleryItem,children:Object(O.jsx)("img",{id:e.id,src:e.webformatURL,alt:"/",className:x.a.ImageGalleryItemImage})},e.id)}))},k=a(10),F=a.n(k),N=document.querySelector("#modal-root");var w=function(e){var t=e.modalClose,a=e.modalImage;Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"!==e.key&&e.target!==e.currentTarget||(t(),console.log(e.key))};return Object(r.createPortal)(Object(O.jsx)("div",{className:F.a.Overlay,onClick:n,children:Object(O.jsx)("div",{className:F.a.Modal,children:Object(O.jsx)("img",{className:F.a.modalImage,src:a,alt:""})})}),N)};var G=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),m=o[0],u=o[1],j=Object(c.useState)(""),h=Object(i.a)(j,2),f=h[0],_=h[1],I=Object(c.useState)(1),y=Object(i.a)(I,2),x=y[0],k=y[1],F=Object(c.useState)([]),N=Object(i.a)(F,2),G=N[0],B=N[1],C=Object(c.useState)(""),E=Object(i.a)(C,2),L=E[0],M=E[1],U=Object(c.useState)(!1),T=Object(i.a)(U,2),q=T[0],A=T[1];Object(c.useEffect)((function(){_((function(e){return e}))!==f&&k(1)}),[f]),Object(c.useEffect)((function(){""!==f&&k((function(e){return e}))!==x&&J(f,x)}),[x,f]);var J=function(e,t){u(!0),b.fetchImages(e,t).then((function(a){A(!0);var c=Math.round(a.data.totalHits/12);t===c&&A(!1),0===a.data.hits.length&&(l.b.error('"'.concat(e,'" is not found'),{theme:"dark"}),A(!1)),B((function(e){return 1===t?a.data.hits:[].concat(Object(s.a)(e),Object(s.a)(a.data.hits))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){Object(l.b)(e.message)})).finally((function(){u(!1)}))};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(p,{onSubmit:function(e){""===e.trim?B([]):_(e)}}),Object(O.jsx)(S,{children:Object(O.jsx)(v,{modalOpen:function(e){n(!0),M(e)},imagesList:G})}),m&&Object(O.jsx)(d.a,{className:"Loader",type:"Grid",color:"#00BFFF",height:80,width:80}),q&&Object(O.jsx)(g,{type:"button",name:"Load more",onBtnClick:function(){k((function(e){return e+1}))},className:"Button"}),a&&Object(O.jsx)(w,{modalClose:function(){n(!1),M("")},modalImage:L}),Object(O.jsx)(l.a,{})]})};o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(G,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3WbUu",SearchForm:"Searchbar_SearchForm__2UPb2",SearchFormButton:"Searchbar_SearchFormButton__2Js4a","SearchFormButton-label":"Searchbar_SearchFormButton-label__3TYlU",SearchFormInput:"Searchbar_SearchFormInput__3TW9A"}}},[[74,1,2]]]);
//# sourceMappingURL=main.6931ea69.chunk.js.map